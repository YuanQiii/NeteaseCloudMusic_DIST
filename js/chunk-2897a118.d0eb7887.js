(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2897a118"],{"7c40":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAwCAYAAACvzsA1AAADnElEQVR4Xu3dv09TURQH8HOKtIv/Qusi7XuESZk0/hsm+IyRTRM1mmiim24aGdAO/ho0ccDEQTbZdJIYJSwmRRmg71XccCFgb8s7RiMGCLTvx32X2/TL2nPPOf3cE1Loe/fxQikvhB8I2CWwzMLVctCcZKIwi9YYg58FK3JqEWCaXmspb3SF1rXk25YEg69bFPn0CgjNtEV5Iw1a1ZkYg69TE7kyERCR90yDnhOsr+gqgMHXJYk8WQvMEuc8p/5rSUchDL4OReQwIsBE88zkleuqlrYgBj+tINYbFWCiWo7FG6q35tMUxuCn0cPagxJYEg49t96eTdoABj+pHNYdtMCPf5/53yVpBIOfRA1rbBH4ycxepd58G7chDH5cMcTbJrARhuQNN9SbOI1h8ONoIdZWAREhzw3UVNQGMfhRpRBnvUBOZLwctF5EaRSDH0UJMb0jIHLRCVqPuzWMwe8mhNd7UICvOX5zslPjGPwe3Fa03F2AiW5VfHV3v0gMfndDRPSogBDdcX11e6/2Mfg9uqloO7LAPcdXN3dHY/Aj+yEwqQATP2WiL22R4BBzO5SwKMSnmGksac546+SB47eubl+DwY8niOiYAkIy6vqtub2W1Y4UrrPI/ZgpE4UL8RPXb17YWozBT8SIRREFTju+et0p9lupcDkkeRgxX6owJnpR8dX4nyQY/FSUWNxB4KXjq3NRhBZK+c9EdDxKbNoYZnpVqasxDH5aSazfT6Drb/uthQulwiMi+f8xJHNSoQkMfubK/VlgYHOgOPR9oxHl3deKg+eZ+XmUWE0xDQy+Jkmk2SmAwcdE9KsAPur068738/sWoSk3UGe6GSwepcKmyn8gomPdYnW8jj9udSgiR0cBYb7h1psTnYK+FgerwnzJBCX+nWlCGTX+CuSIr5T9ZnU3x2IpP7xJ9IyITpigwhdYJpRRY7fAHBF/Egk/MnObiE8SyVkiOmyGCpcsmHFGFZsEcJGaTbuBXrIXwGXJ2RujgmUCuBHFsg1BOyYEcOuhCWXUsEkAN5vbtBvoxYQAjhcxoYwaNgngQCmbdgO9GBHAEYJGmFHEJgEcGmvTbqAXIwI4JtwIM4rYJIAHQ9i0G+glewE8Cih7Y1SwTAAPf7NsQ9COEQE87tMIM4pYI4AHPFuzFWjEmIDQTFuUN9KgVZ01ccqCTk3k0ivANL3WUt7oCq3rTYyT1HR7Ip8egWUWrpaD5iQThXpS7szyG2GZhworOCg9AAAAAElFTkSuQmCC"},"7ef1":function(t,i,s){"use strict";var e=s("90ac"),n=s.n(e);n.a},"80b9":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"playlistmain"},[e("div",{staticClass:"plmain"},[e("div",{staticClass:"left"},[e("div",{staticClass:"head"},[e("div",{staticClass:"img"},[e("img",{staticClass:"cir",attrs:{src:t.singleInfo.songs[0].al.picUrl}}),e("img",{staticClass:"plate",attrs:{src:s("bb0b")}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"r1"},[t._m(0),e("div",{staticClass:"name"},[t._v(t._s(t.singleInfo.songs[0].name))])]),e("div",{staticClass:"r2"},[e("div",[e("span",[t._v("歌手：")]),e("span",[t._v(t._s(t.singleInfo.songs[0].ar[0].name))])]),e("div",[e("span",[t._v("所属专辑：")]),e("span",[t._v(t._s(t.singleInfo.songs[0].al.name))])])]),e("music-list-operate",{staticClass:"musiclistoperate",attrs:{musicListInfo:t.musicTotal,musicIsPlayList:!1,musicShareCount:!1}}),e("div",{staticClass:"r5",style:t.descIsOpen?"height: auto":"height: 300px"},t._l(t.allLyric,(function(i,s){return e("p",{key:s},[t._v(t._s(i))])})),0),e("spread-or-close"),t._m(1)],1)]),e("comment",{attrs:{commentTotal:t.musicTotal.commentCount,comments:t.comments}}),e("offset-change",{attrs:{musicTotal:t.musicTotal.commentCount,musicOffset:20}})],1),e("div",{staticClass:"right"},[e("music-minor",{attrs:{musicSimiSong:t.simiSong,related:t.simiPlayList,musicRelated:Boolean(t.simiPlayList.length)}},[e("span",{attrs:{slot:"related"},slot:"related"},[t._v("包含这首歌的歌单")]),e("span",{attrs:{slot:"simihead"},slot:"simihead"},[t._v("相似歌曲")])])],1)])])},n=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tag"},[e("img",{attrs:{src:s("7c40")}}),e("span",[t._v("单曲")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"r7"},[s("span",[t._v("报错")])])}],a=(s("99af"),s("4de4"),s("ac1f"),s("5319"),s("1276"),s("498a"),s("1bab")),c=s("1bfe"),o=s("57ec"),r=s("b2b6"),l=s("612c"),u=s("6fd5"),m={name:"DigitalSingle",components:{Comment:l["a"],MusicListOperate:o["a"],MusicMinor:c["a"],SpreadOrClose:r["a"],OffsetChange:u["a"]},data:function(){return{singleInfo:{},lyrics:"",allLyric:[],timeExp:/\[(\d{2,}):(\d{2,3})(?:\.(\d{2,3}))?]/g,musicTotal:{commentCount:0},isOpen:!1,simiSong:[],simiPlayList:[],singleComment:{},comments:{}}},computed:{id:function(){return this.$route.params.id},descIsOpen:function(){return this.$store.state.descIsOpen},offsetNum:function(){return this.$store.state.offsetNum}},watch:{offsetNum:function(t){this.getMusicCommentTotal(this.id,t)},id:function(t){this.getMusicDetail(this.id),this.getMusicLyrics(this.id),this.getMusicCommentTotal(this.id),this.getSimiSong(this.id),this.getSimiPlayList(this.id),this.$store.commit("changeValue",[{type:"descIsOpen",value:!1},{type:"offsetNum",value:0}])}},created:function(){this.getMusicDetail(this.id),this.getMusicLyrics(this.id),this.getMusicCommentTotal(this.id),this.getSimiSong(this.id),this.getSimiPlayList(this.id),this.$store.commit("changeValue",[{type:"descIsOpen",value:!1},{type:"offsetNum",value:0}])},methods:{getMusicDetail:function(t){var i=this;return Object(a["a"])({url:"/song/detail?ids=".concat(t)}).then((function(t){i.singleInfo=t}))},getMusicLyrics:function(t){var i=this;return Object(a["a"])({url:"/lyric?id=".concat(t)}).then((function(t){i.lyrics=t.lrc.lyric,i.totalLyric()}))},getMusicCommentTotal:function(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(a["a"])({url:"/comment/music?id=".concat(t,"&offset=").concat(s)}).then((function(t){i.musicTotal.commentCount=t.total,i.comments=t}))},getSimiSong:function(t){var i=this;return Object(a["a"])({url:"/simi/song?id=".concat(t)}).then((function(t){i.simiSong=t.songs}))},getSimiPlayList:function(t){var i=this;return Object(a["a"])({url:"/simi/playlist?id=".concat(t)}).then((function(t){i.simiPlayList=t.playlists}))},totalLyric:function(){var t=this.lyrics.split("\n");this.allLyric=[];for(var i=0;i<t.length;i++){var s=t[i],e=this.timeExp.exec(s);if(e){var n=s.replace(this.timeExp,"").trim();this.allLyric.push(n),this.allLyric=this.allLyric.filter((function(t){return""!==t}))}}}}},g=m,d=(s("7ef1"),s("2877")),h=Object(d["a"])(g,e,n,!1,null,"7f1563ca",null);i["default"]=h.exports},"894c":function(t,i,s){},"90ac":function(t,i,s){},a986:function(t,i,s){"use strict";var e=s("894c"),n=s.n(e);n.a},ae2e:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAN2SURBVGhD7ZhJaFNBGMeTNiUtuNCDGgRBPUhai/RS3BBTaIVESNIWWhVEUbxoby4XkeJFUNCDC4Ko9aCtWLKoCC6IIipWRBELrTVoEfUi4kEQCiX1N5kvr0lvb0UxPxi+ZS7ff+Z7b+Y9X4UKFSrYIh6PrxLXEn6xnpNMJpv9fv8F3BbGt+np6fXZbHaiMGmCKrGekkgk1mHSDFW8YnFVVVWf+KbwXEBnZ2cbxaZZ/WWSKvJarCk8bSGKj9MqV3Hn6ozB9Uwms1V8U3i2Ax0dHVsoXrXN7OL7rRav8EQAxe/CDDKqCwmBNjpP8WrOMq4L4G3Ti7mkozJOpdPpveJbxlUBFH+IVT4jYSnHWPn94tvCNQEU30fxxyU04Dk4QvGHJbSNK28hev4E5qCOZkDQAdrmpISO4LgAij+L2aejMnpZ+XPiO4ajAmibflZ5p4Sl7Kb4y+I7iiMCIpFIoL6+/hput87MQM9v446jXqGuYFtANBqdV1tbO4C7WWcMptiNbno+I7Er2BIQi8VCwWBQFd+qMwa/GN20zV0duodlAdxrlmMGaJHVOmPwnVw3bfNYYlexJIA3zULMQ0ZTISHQMp9V26RSqWFJuY6lg4wV3o4pKx7Gyce9LF5h9SRWO/BXYElATU3NacyIjgxWMG7zbKzRoTdYEjA0NPSVXk/gvtQZgyW00S0OtIjErmP5Msf7/WMgEFAiZr9tFiBOiYhK7CqOHGScBYMUHZNUkSlGD2eB+gpzjbIvJCvkcrnJUCh0o66uroFwpc4WULvb09DQkBsbG3unU85jewdK4Xy4gtmhoxnYnT203EUJHcX2DpTCSmcbGxsX4Rb/9xSJh8PhH8zPfuht46gAxejo6B1EqD8P6ueVgXpGaKffiHguKUdwXIACEfdZ8WqK3iipIu2IyzP/RGLbuCJAwUo/YsUncdt0xqAVcUHm1V3KNq4JUFDkU0T8xC07E9iZDeTnM39PUpZxVYCCIodpmy+4cZ0xWKseePXMSGwJ1wUoKPINbTPOyicJS0//FvJLEXlTYtN4IkBBkSO0zVtc9ekZLCQBUc3kw8ynJGUKzwQoKPI9xb7C3cSYU0hqmminD+yU6RPb8mXOKtyNHrDqXdxaP0mqSLtYU3guQMG14hmmk/GikPD5JvL5/FHx/y26urrC4laoUOH/w+f7A444ALlD3qXuAAAAAElFTkSuQmCC"},b2b6:function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"r6",style:t.fontBlack?"color: #666":"",on:{click:function(i){return t.toggleLyrics()}}},[e("span",[t._v(t._s(t.descIsOpen?"收起":"展开"))]),e("img",{style:t.descIsOpen?"transform: rotateZ(90deg)":"transform: rotateZ(-90deg)",attrs:{src:s("ae2e")}})])},n=[],a={name:"SpreadOrClose",props:{fontBlack:{type:Boolean,default:!1}},computed:{descIsOpen:function(){return this.$store.state.descIsOpen}},methods:{toggleLyrics:function(){this.$store.commit("changeValue",{type:"descIsOpen",value:!this.descIsOpen})}}},c=a,o=(s("a986"),s("2877")),r=Object(o["a"])(c,e,n,!1,null,"769b3621",null);i["a"]=r.exports},bb0b:function(t,i,s){t.exports=s.p+"img/plate.140689d6.png"}}]);
//# sourceMappingURL=chunk-2897a118.d0eb7887.js.map